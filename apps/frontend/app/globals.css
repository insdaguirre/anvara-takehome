@import 'tailwindcss';

/*
 * Tailwind CSS v4 - CSS-first configuration
 * No tailwind.config.js needed! Use CSS custom properties for theming.
 * Modern 2026 best practices: Oxide engine for faster builds, CSS vars for themes.
 */

/* Custom theme variables - modify these to customize the marketplace look */
:root {
  /* Primary brand colors */
  --color-primary: #6366f1;
  --color-primary-hover: #4f46e5;
  --color-primary-light: #818cf8;

  /* Secondary colors */
  --color-secondary: #10b981;
  --color-secondary-hover: #059669;

  /* Neutral colors */
  --color-background: #ffffff;
  --color-foreground: #0f172a;
  --color-muted: #64748b;
  --color-border: #e2e8f0;
  --color-surface-muted: #f8fafc;
  --landing-overlay-rgb: 255 255 255;
  --landing-support-text-rgb: 255 255 255;
  --landing-feature-label-rgb: 99 102 241;
  --marketplace-overlay-rgb: 255 255 255;
  --nav-dark-accent: #0a2455;
  --nav-dark-accent-rgb: 10 36 85;

  /* Status colors */
  --color-success: #22c55e;
  --color-warning: #f59e0b;
  --color-error: #ef4444;

  /* Spacing */
  --spacing-container: 1rem;
}

/* Dark tokens for class-based and attribute-based theming. */
:root.dark:not([data-theme='light']),
:root[data-theme='dark'] {
  --color-background: #0f172a;
  --color-foreground: #f8fafc;
  --color-muted: #94a3b8;
  --color-border: #334155;
  --color-surface-muted: #1e293b;
  --landing-overlay-rgb: 0 0 0;
  --landing-support-text-rgb: 148 163 184;
  --landing-feature-label-rgb: 148 163 184;
  --marketplace-overlay-rgb: 0 0 0;
}

/* Follow system preference only when there is no explicit user choice. */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]):not(.dark) {
    --color-background: #0f172a;
    --color-foreground: #f8fafc;
    --color-muted: #94a3b8;
    --color-border: #334155;
    --color-surface-muted: #1e293b;
    --landing-overlay-rgb: 0 0 0;
    --landing-support-text-rgb: 148 163 184;
    --landing-feature-label-rgb: 148 163 184;
    --marketplace-overlay-rgb: 0 0 0;
  }
}

/* Explicit light choice always wins. */
:root[data-theme='light'] {
  --color-background: #ffffff;
  --color-foreground: #0f172a;
  --color-muted: #64748b;
  --color-border: #e2e8f0;
  --color-surface-muted: #f8fafc;
  --landing-overlay-rgb: 255 255 255;
  --landing-support-text-rgb: 203 213 225;
  --landing-feature-label-rgb: 99 102 241;
  --marketplace-overlay-rgb: 255 255 255;
}

/* Base styles */
html {
  overflow-x: hidden;
  color-scheme: light;
}

html.dark:not([data-theme='light']),
html[data-theme='dark'] {
  color-scheme: dark;
}

@media (prefers-color-scheme: dark) {
  html:not([data-theme]):not(.dark) {
    color-scheme: dark;
  }
}

body {
  background-color: var(--color-background);
  color: var(--color-foreground);
  font-family:
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    Roboto,
    sans-serif;
}

.nav-link-inactive {
  color: var(--color-foreground);
  transition:
    color 200ms ease,
    text-shadow 200ms ease;
}

.nav-link-active {
  font-weight: 600;
  color: var(--color-primary);
}

.nav-link-inactive:hover {
  color: var(--color-primary);
  text-shadow:
    0 0 10px rgb(99 102 241 / 0.55),
    0 0 20px rgb(99 102 241 / 0.35);
}

html.dark:not([data-theme='light']) .nav-link-inactive,
html[data-theme='dark'] .nav-link-inactive {
  color: #ffffff;
}

html.dark:not([data-theme='light']) .nav-link-inactive:hover,
html[data-theme='dark'] .nav-link-inactive:hover {
  color: var(--nav-dark-accent);
  text-shadow:
    0 0 10px rgb(var(--nav-dark-accent-rgb) / 0.6),
    0 0 20px rgb(var(--nav-dark-accent-rgb) / 0.4);
}

html.dark:not([data-theme='light']) .nav-link-active,
html[data-theme='dark'] .nav-link-active {
  color: var(--nav-dark-accent);
}

@media (prefers-color-scheme: dark) {
  html:not([data-theme]):not(.dark) .nav-link-inactive {
    color: #ffffff;
  }

  html:not([data-theme]):not(.dark) .nav-link-inactive:hover {
    color: var(--nav-dark-accent);
    text-shadow:
      0 0 10px rgb(var(--nav-dark-accent-rgb) / 0.6),
      0 0 20px rgb(var(--nav-dark-accent-rgb) / 0.4);
  }

  html:not([data-theme]):not(.dark) .nav-link-active {
    color: var(--nav-dark-accent);
  }
}

@keyframes dashboard-toast-in {
  from {
    opacity: 0;
    transform: translateY(-8px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes dashboard-toast-out {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-6px) scale(0.98);
  }
}

@keyframes dashboard-dialog-in {
  from {
    opacity: 0;
    transform: translateY(12px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes page-enter {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes backdrop-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

button,
input[type='button'],
input[type='submit'],
input[type='reset'],
[role='button'] {
  transition:
    transform 130ms ease,
    background-color 180ms ease,
    border-color 180ms ease,
    color 180ms ease,
    box-shadow 180ms ease,
    opacity 180ms ease;
  will-change: transform;
}

button:active:not(:disabled),
input[type='button']:active:not(:disabled),
input[type='submit']:active:not(:disabled),
input[type='reset']:active:not(:disabled),
[role='button']:active {
  transform: translateY(1px) scale(0.99);
}

input,
select,
textarea {
  transition:
    border-color 180ms ease,
    box-shadow 180ms ease,
    background-color 180ms ease;
}

@media (pointer: coarse) {
  input:not([type='checkbox']):not([type='radio']):not([type='hidden']),
  select,
  textarea {
    min-height: 44px;
  }

  button,
  [role='button'],
  a,
  input[type='button'],
  input[type='submit'],
  input[type='reset'] {
    min-height: 44px;
  }
}

.date-input-light-icon {
  color-scheme: light;
}

html.dark:not([data-theme='light']) .date-input-light-icon,
html[data-theme='dark'] .date-input-light-icon {
  color-scheme: dark;
}

.date-input-light-icon::-webkit-calendar-picker-indicator {
  filter: none;
  opacity: 0.95;
}

html.dark:not([data-theme='light']) .date-input-light-icon::-webkit-calendar-picker-indicator,
html[data-theme='dark'] .date-input-light-icon::-webkit-calendar-picker-indicator {
  filter: none;
  opacity: 0.95;
}

@media (prefers-color-scheme: dark) {
  html:not([data-theme]):not(.dark) .date-input-light-icon {
    color-scheme: dark;
  }

  html:not([data-theme]):not(.dark) .date-input-light-icon::-webkit-calendar-picker-indicator {
    filter: none;
    opacity: 0.95;
  }
}

@media (prefers-reduced-motion: reduce) {
  button,
  input[type='button'],
  input[type='submit'],
  input[type='reset'],
  [role='button'] {
    transition:
      background-color 180ms ease,
      border-color 180ms ease,
      color 180ms ease,
      box-shadow 180ms ease,
      opacity 180ms ease;
    will-change: auto;
  }

  button:active:not(:disabled),
  input[type='button']:active:not(:disabled),
  input[type='submit']:active:not(:disabled),
  input[type='reset']:active:not(:disabled),
  [role='button']:active {
    transform: none;
  }

  input,
  select,
  textarea {
    transition-duration: 0ms;
  }
}

/*
 * HINT: Use Tailwind arbitrary values with explicit CSS vars:
 * - bg-[var(--color-primary)] for custom backgrounds
 * - text-[var(--color-foreground)] for custom text colors
 * - p-[var(--spacing-container)] for custom spacing
 */
